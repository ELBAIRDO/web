

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>1.18.0 (Pending) &mdash; envoy 1.18.0-dev-5bdcdd documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/envoy.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/sphinx_tabs/semantic-ui-2.4.1/segment.min.css" type="text/css" />
  <link rel="stylesheet" href="../_static/sphinx_tabs/semantic-ui-2.4.1/menu.min.css" type="text/css" />
  <link rel="stylesheet" href="../_static/sphinx_tabs/semantic-ui-2.4.1/tab.min.css" type="text/css" />
  <link rel="stylesheet" href="../_static/sphinx_tabs/tabs.css" type="text/css" />
  <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="1.17.0 (January 11, 2021)" href="v1.17.0.html" />
    <link rel="prev" title="Version history" href="version_history.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/envoy-logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.18.0-dev-5bdcdd
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../about_docs.html">About the documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../intro/intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../start/start.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration/configuration.html">Configuration reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../operations/operations.html">Operations and administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../extending/extending.html">Extending Envoy for custom use cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/api.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq/overview.html">FAQ</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="version_history.html">Version history</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">1.18.0 (Pending)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#incompatible-behavior-changes">Incompatible Behavior Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#minor-behavior-changes">Minor Behavior Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#bug-fixes">Bug Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#removed-config-or-runtime">Removed Config or Runtime</a></li>
<li class="toctree-l3"><a class="reference internal" href="#new-features">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#deprecated">Deprecated</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="v1.17.0.html">1.17.0 (January 11, 2021)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.16.2.html">1.16.2 (December 7, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.16.1.html">1.16.1 (November 20, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.16.0.html">1.16.0 (October 8, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.15.3.html">1.15.3 (December 7, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.15.2.html">1.15.2 (September 29, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.15.1.html">1.15.1 (September 29, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.15.0.html">1.15.0 (July 7, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.14.6.html">1.14.6 (December 7, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.14.5.html">1.14.5 (September 29, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.14.4.html">1.14.4 (July 7, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.14.3.html">1.14.3 (June 30, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.14.2.html">1.14.2 (June 8, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.14.1.html">1.14.1 (April 8, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.14.0.html">1.14.0 (April 8, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.13.8.html">1.13.8 (January 15, 2021)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.13.7.html">1.13.7 (December 7, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.13.6.html">1.13.6 (September 29, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.13.5.html">1.13.5 (September 29, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.13.4.html">1.13.4 (July 7, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.13.3.html">1.13.3 (June 30, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.13.2.html">1.13.2 (June 8, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.13.1.html">1.13.1 (March 3, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.13.0.html">1.13.0 (January 20, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.12.7.html">1.12.7 (September 29, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.12.6.html">1.12.6 (July 7, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.12.5.html">1.12.5 (June 30, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.12.4.html">1.12.4 (June 8, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.12.3.html">1.12.3 (March 3, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.12.2.html">1.12.2 (December 10, 2019)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.12.1.html">1.12.1 (November 8, 2019)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.12.0.html">1.12.0 (October 31, 2019)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.11.2.html">1.11.2 (October 8, 2019)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.11.1.html">1.11.1 (August 13, 2019)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.11.0.html">1.11.0 (July 11, 2019)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.10.0.html">1.10.0 (Apr 5, 2019)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.9.1.html">1.9.1 (Apr 2, 2019)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.9.0.html">1.9.0 (Dec 20, 2018)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.8.0.html">1.8.0 (Oct 4, 2018)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.7.0.html">1.7.0 (Jun 21, 2018)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.6.0.html">1.6.0 (March 20, 2018)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.5.0.html">1.5.0 (December 4, 2017)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.4.0.html">1.4.0 (August 24, 2017)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.3.0.html">1.3.0 (May 17, 2017)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.2.0.html">1.2.0 (March 7, 2017)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.1.0.html">1.1.0 (November 30, 2016)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.0.0.html">1.0.0 (September 12, 2016)</a></li>
<li class="toctree-l2"><a class="reference internal" href="version_history.html#deprecation-policy">Deprecation Policy</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">envoy</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="version_history.html">Version history</a> &raquo;</li>
        
      <li>1.18.0 (Pending)</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/version_history/current.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="pending">
<h1>1.18.0 (Pending)<a class="headerlink" href="#pending" title="Permalink to this headline">¶</a></h1>
<div class="section" id="incompatible-behavior-changes">
<h2>Incompatible Behavior Changes<a class="headerlink" href="#incompatible-behavior-changes" title="Permalink to this headline">¶</a></h2>
<p><em>Changes that are expected to cause an incompatibility if applicable; deployment changes are likely required</em></p>
<ul class="simple">
<li><p>grpc_stats: the default value for <a class="reference internal" href="../api-v3/extensions/filters/http/grpc_stats/v3/config.proto.html#envoy-v3-api-field-extensions-filters-http-grpc-stats-v3-filterconfig-stats-for-all-methods"><span class="std std-ref">stats_for_all_methods</span></a> is switched
from true to false, in order to avoid possible memory exhaustion due to an untrusted downstream sending a large number of unique method names. The previous
default value was deprecated in version 1.14.0. This only changes the behavior when the value is not set. The previous behavior can be used by setting the value
to true. This behavior change by be overridden by setting runtime feature <cite>envoy.deprecated_features.grpc_stats_filter_enable_stats_for_all_methods_by_default</cite>.</p></li>
</ul>
</div>
<div class="section" id="minor-behavior-changes">
<h2>Minor Behavior Changes<a class="headerlink" href="#minor-behavior-changes" title="Permalink to this headline">¶</a></h2>
<p><em>Changes that may cause incompatibilities for some users, but should not for most</em></p>
<ul class="simple">
<li><p>healthcheck: the <a class="reference internal" href="../configuration/http/http_filters/health_check_filter.html#config-http-filters-health-check"><span class="std std-ref">health check filter</span></a> now sends the
<a class="reference internal" href="../configuration/http/http_filters/router_filter.html#config-http-filters-router-x-envoy-immediate-health-check-fail"><span class="std std-ref">x-envoy-immediate-health-check-fail</span></a> header
for all responses when Envoy is in the health check failed state. Additionally, receiving the
<a class="reference internal" href="../configuration/http/http_filters/router_filter.html#config-http-filters-router-x-envoy-immediate-health-check-fail"><span class="std std-ref">x-envoy-immediate-health-check-fail</span></a>
header (either in response to normal traffic or in response to an HTTP <a class="reference internal" href="../intro/arch_overview/upstream/health_checking.html#arch-overview-health-checking"><span class="std std-ref">active health check</span></a>) will
cause Envoy to immediately <a class="reference internal" href="../intro/arch_overview/upstream/load_balancing/excluded.html#arch-overview-load-balancing-excluded"><span class="std std-ref">exclude</span></a> the host from
load balancing calculations. This has the useful property that such hosts, which are being
explicitly told to disable traffic, will not be counted for panic routing calculations. See the
excluded documentation for more information. This behavior can be temporarily reverted by setting
the <cite>envoy.reloadable_features.health_check.immediate_failure_exclude_from_cluster</cite> feature flag
to false. Note that the runtime flag covers <em>both</em> the health check filter responding with
<cite>x-envoy-immediate-health-check-fail</cite> in all cases (versus just non-HC requests) as well as
whether receiving <cite>x-envoy-immediate-health-check-fail</cite> will cause exclusion or not. Thus,
depending on the Envoy deployment, the feature flag may need to be flipped on both downstream
and upstream instances, depending on the reason.</p></li>
<li><p>http: allow to use path canonicalizer from <a class="reference external" href="https://quiche.googlesource.com/googleurl">googleurl</a>
instead of <cite>//source/common/chromium_url</cite>. The new path canonicalizer is enabled by default. To
revert to the legacy path canonicalizer, enable the runtime flag
<cite>envoy.reloadable_features.remove_forked_chromium_url</cite>.</p></li>
<li><p>http: increase the maximum allowed number of initial connection WINDOW_UPDATE frames sent by the peer from 1 to 5.</p></li>
<li><p>http: upstream flood and abuse checks increment the count of opened HTTP/2 streams when Envoy sends
initial HEADERS frame for the new stream. Before the counter was incrementred when Envoy received
response HEADERS frame with the END_HEADERS flag set from upstream server.</p></li>
<li><p>oauth filter: added the optional parameter <a class="reference internal" href="../api-v3/extensions/filters/http/oauth2/v3alpha/oauth.proto.html#envoy-v3-api-field-extensions-filters-http-oauth2-v3alpha-oauth2config-auth-scopes"><span class="std std-ref">auth_scopes</span></a> with default value of ‘user’ if not provided. Enables this value to be overridden in the Authorization request to the OAuth provider.</p></li>
<li><p>perf: allow reading more bytes per operation from raw sockets to improve performance.</p></li>
<li><p>router: extended custom date formatting to DOWNSTREAM_PEER_CERT_V_START and DOWNSTREAM_PEER_CERT_V_END when using <a class="reference internal" href="../configuration/http/http_conn_man/headers.html#config-http-conn-man-headers-custom-request-headers"><span class="std std-ref">custom request/response header formats</span></a>.</p></li>
<li><p>tcp: setting NODELAY in the base connection class. This should have no effect for TCP or HTTP proxying, but may improve throughput in other areas. This behavior can be temporarily reverted by setting <cite>envoy.reloadable_features.always_nodelay</cite> to false.</p></li>
<li><p>upstream: host weight changes now cause a full load balancer rebuild as opposed to happening
atomically inline. This change has been made to support load balancer pre-computation of data
structures based on host weight, but may have performance implications if host weight changes
are very frequent. This change can be disabled by setting the <cite>envoy.reloadable_features.upstream_host_weight_change_causes_rebuild</cite>
feature flag to false. If setting this flag to false is required in a deployment please open an
issue against the project.</p></li>
</ul>
</div>
<div class="section" id="bug-fixes">
<h2>Bug Fixes<a class="headerlink" href="#bug-fixes" title="Permalink to this headline">¶</a></h2>
<p><em>Changes expected to improve the state of the world and are unlikely to have negative effects</em></p>
<ul class="simple">
<li><p>active http health checks: properly handles HTTP/2 GOAWAY frames from the upstream. Previously a GOAWAY frame due to a graceful listener drain could cause improper failed health checks due to streams being refused by the upstream on a connection that is going away. To revert to old GOAWAY handling behavior, set the runtime feature <cite>envoy.reloadable_features.health_check.graceful_goaway_handling</cite> to false.</p></li>
<li><p>buffer: tighten network connection read and write buffer high watermarks in preparation to more careful enforcement of read limits. Buffer high-watermark is now set to the exact configured value; previously it was set to value + 1.</p></li>
<li><p>fault injection: stop counting as active fault after delay elapsed. Previously fault injection filter continues to count the injected delay as an active fault even after it has elapsed. This produces incorrect output statistics and impacts the max number of consecutive faults allowed (e.g., for long-lived streams). This change decreases the active fault count when the delay fault is the only active and has gone finished.</p></li>
<li><p>grpc-web: fix local reply and non-proto-encoded gRPC response handling for small response bodies. This fix can be temporarily reverted by setting <cite>envoy.reloadable_features.grpc_web_fix_non_proto_encoded_response_handling</cite> to false.</p></li>
<li><p>http: disallowing “host:” in request_headers_to_add for behavioral consistency with rejecting :authority header. This behavior can be temporarily reverted by setting <cite>envoy.reloadable_features.treat_host_like_authority</cite> to false.</p></li>
<li><p>http: reverting a behavioral change where upstream connect timeouts were temporarily treated differently from other connection failures. The change back to the original behavior can be temporarily reverted by setting <cite>envoy.reloadable_features.treat_upstream_connect_timeout_as_connect_failure</cite> to false.</p></li>
<li><p>listener: prevent crashing when an unknown listener config proto is received and debug logging is enabled.</p></li>
<li><p>overload: fix a bug that can cause use-after-free when one scaled timer disables another one with the same duration.</p></li>
<li><p>upstream: fix handling of moving endpoints between priorities when active health checks are enabled. Previously moving to a higher numbered priority was a NOOP, and moving to a lower numbered priority caused an abort.</p></li>
</ul>
</div>
<div class="section" id="removed-config-or-runtime">
<h2>Removed Config or Runtime<a class="headerlink" href="#removed-config-or-runtime" title="Permalink to this headline">¶</a></h2>
<p><em>Normally occurs at the end of the</em> <a class="reference internal" href="version_history.html#deprecated"><span class="std std-ref">deprecation period</span></a></p>
<ul class="simple">
<li><p>access_logs: removed legacy unbounded access logs and runtime guard <cite>envoy.reloadable_features.disallow_unbounded_access_logs</cite>.</p></li>
<li><p>dns: removed legacy buggy wildcard matching path and runtime guard <cite>envoy.reloadable_features.fix_wildcard_matching</cite>.</p></li>
<li><p>dynamic_forward_proxy: removed <cite>envoy.reloadable_features.enable_dns_cache_circuit_breakers</cite> and legacy code path.</p></li>
<li><p>http: removed legacy connection close behavior and runtime guard <cite>envoy.reloadable_features.fixed_connection_close</cite>.</p></li>
<li><p>http: removed legacy HTTP/1.1 error reporting path and runtime guard <cite>envoy.reloadable_features.early_errors_via_hcm</cite>.</p></li>
<li><p>http: removed legacy sanitization path for upgrade response headers and runtime guard <cite>envoy.reloadable_features.fix_upgrade_response</cite>.</p></li>
<li><p>http: removed legacy date header overwriting logic and runtime guard <cite>envoy.reloadable_features.preserve_upstream_date deprecation</cite>.</p></li>
<li><p>listener: removed legacy runtime guard <cite>envoy.reloadable_features.listener_in_place_filterchain_update</cite>.</p></li>
<li><p>router: removed <cite>envoy.reloadable_features.consume_all_retry_headers</cite> and legacy code path.</p></li>
</ul>
</div>
<div class="section" id="new-features">
<h2>New Features<a class="headerlink" href="#new-features" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>access log: added the <a class="reference internal" href="../api-v3/config/core/v3/substitution_format_string.proto.html#envoy-v3-api-field-config-core-v3-substitutionformatstring-formatters"><span class="std std-ref">formatters</span></a> extension point for custom formatters (command operators).</p></li>
<li><p>access log: support command operator: %REQUEST_HEADERS_BYTES%, %RESPONSE_HEADERS_BYTES%, and %RESPONSE_TRAILERS_BYTES%.</p></li>
<li><p>compression: add brotli <a class="reference internal" href="../api-v3/extensions/compression/brotli/compressor/v3/brotli.proto.html#envoy-v3-api-msg-extensions-compression-brotli-compressor-v3-brotli"><span class="std std-ref">compressor</span></a> and <a class="reference internal" href="../api-v3/extensions/compression/brotli/decompressor/v3/brotli.proto.html#envoy-v3-api-msg-extensions-compression-brotli-decompressor-v3-brotli"><span class="std std-ref">decompressor</span></a>.</p></li>
<li><p>config: add <cite>envoy.features.fail_on_any_deprecated_feature</cite> runtime key, which matches the behaviour of compile-time flag <cite>ENVOY_DISABLE_DEPRECATED_FEATURES</cite>, i.e. use of deprecated fields will cause a crash.</p></li>
<li><p>dispatcher: supports a stack of <cite>Envoy::ScopeTrackedObject</cite> instead of a single tracked object. This will allow Envoy to dump more debug information on crash.</p></li>
<li><p>grpc_json_transcoder: added option <a class="reference internal" href="../api-v3/extensions/filters/http/grpc_json_transcoder/v3/transcoder.proto.html#envoy-v3-api-field-extensions-filters-http-grpc-json-transcoder-v3-grpcjsontranscoder-strict-http-request-validation"><span class="std std-ref">strict_http_request_validation</span></a> to reject invalid requests early.</p></li>
<li><p>grpc_json_transcoder: filter can now be configured on per-route/per-vhost level as well. Leaving empty list of services in the filter configuration disables transcoding on the specific route.</p></li>
<li><p>http: added support for <cite>Envoy::ScopeTrackedObject</cite> for HTTP/1 dispatching. Crashes while inside the dispatching loop should dump debug information.</p></li>
<li><p>http: added support for <a class="reference internal" href="../api-v3/config/cluster/v3/cluster.proto.html#envoy-v3-api-msg-config-cluster-v3-cluster-preconnectpolicy"><span class="std std-ref">preconnecting</span></a>. Preconnecting is off by default, but recommended for clusters serving latency-sensitive traffic, especially if using HTTP/1.1.</p></li>
<li><p>http: change frame flood and abuse checks to the upstream HTTP/2 codec to ON by default. It can be disabled by setting the <cite>envoy.reloadable_features.upstream_http2_flood_checks</cite> runtime key to false.</p></li>
<li><p>overload: add support for scaling <a class="reference internal" href="../api-v3/config/overload/v3/overload.proto.html#envoy-v3-api-enum-value-config-overload-v3-scaletimersoverloadactionconfig-timertype-transport-socket-connect"><span class="std std-ref">transport connection timeouts</span></a>. This can be used to reduce the TLS handshake timeout in response to overload.</p></li>
<li><p>route config: added <a class="reference internal" href="../api-v3/config/route/v3/route_components.proto.html#envoy-v3-api-field-config-route-v3-routeaction-upgradeconfig-connectconfig-allow-post"><span class="std std-ref">allow_post field</span></a> for allowing POST payload as raw TCP.</p></li>
<li><p>route config: added <a class="reference internal" href="../api-v3/config/route/v3/route.proto.html#envoy-v3-api-field-config-route-v3-routeconfiguration-max-direct-response-body-size-bytes"><span class="std std-ref">max_direct_response_body_size_bytes</span></a> to set maximum <a class="reference internal" href="../api-v3/config/route/v3/route_components.proto.html#envoy-v3-api-field-config-route-v3-directresponseaction-body"><span class="std std-ref">direct response body</span></a> size in bytes. If not specified the default remains 4096 bytes.</p></li>
<li><p>server: added <em>fips_mode</em> to <a class="reference internal" href="../configuration/observability/statistics.html#server-compilation-settings-statistics"><span class="std std-ref">server compilation settings</span></a> related statistic.</p></li>
<li><p>tcp_proxy: add support for converting raw TCP streams into HTTP/1.1 CONNECT requests. See <a class="reference internal" href="../intro/arch_overview/http/upgrades.html#tunneling-tcp-over-http"><span class="std std-ref">upgrade documentation</span></a> for details.</p></li>
<li><p>tcp_proxy: added a <a class="reference internal" href="../api-v3/extensions/filters/network/tcp_proxy/v3/tcp_proxy.proto.html#envoy-v3-api-field-extensions-filters-network-tcp-proxy-v3-tcpproxy-tunnelingconfig-use-post"><span class="std std-ref">use_post field</span></a> for using HTTP POST to proxy TCP streams.</p></li>
<li><p>tcp_proxy: added a <a class="reference internal" href="../api-v3/extensions/filters/network/tcp_proxy/v3/tcp_proxy.proto.html#envoy-v3-api-field-extensions-filters-network-tcp-proxy-v3-tcpproxy-tunnelingconfig-headers-to-add"><span class="std std-ref">headers_to_add field</span></a> for setting additional headers to the HTTP requests for TCP proxing.</p></li>
</ul>
</div>
<div class="section" id="deprecated">
<h2>Deprecated<a class="headerlink" href="#deprecated" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="v1.17.0.html" class="btn btn-neutral float-right" title="1.17.0 (January 11, 2021)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="version_history.html" class="btn btn-neutral float-left" title="Version history" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2016-2021, Envoy Project Authors

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>
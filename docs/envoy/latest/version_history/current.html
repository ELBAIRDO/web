

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>1.17.0 (pending) &mdash; envoy 1.17.0-dev-7be58c documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/envoy.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/sphinx_tabs/semantic-ui-2.4.1/segment.min.css" type="text/css" />
  <link rel="stylesheet" href="../_static/sphinx_tabs/semantic-ui-2.4.1/menu.min.css" type="text/css" />
  <link rel="stylesheet" href="../_static/sphinx_tabs/semantic-ui-2.4.1/tab.min.css" type="text/css" />
  <link rel="stylesheet" href="../_static/sphinx_tabs/tabs.css" type="text/css" />
  <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="1.16.0 (October 8, 2020)" href="v1.16.0.html" />
    <link rel="prev" title="Version history" href="version_history.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/envoy-logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.17.0-dev-7be58c
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../about_docs.html">About the documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../intro/intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../start/start.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration/configuration.html">Configuration reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../operations/operations.html">Operations and administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../extending/extending.html">Extending Envoy for custom use cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/api.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq/overview.html">FAQ</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="version_history.html">Version history</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">1.17.0 (pending)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#incompatible-behavior-changes">Incompatible Behavior Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#minor-behavior-changes">Minor Behavior Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#bug-fixes">Bug Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#removed-config-or-runtime">Removed Config or Runtime</a></li>
<li class="toctree-l3"><a class="reference internal" href="#new-features">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#deprecated">Deprecated</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="v1.16.0.html">1.16.0 (October 8, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.15.2.html">1.15.2 (September 29, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.15.1.html">1.15.1 (September 29, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.15.0.html">1.15.0 (July 7, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.14.5.html">1.14.5 (September 29, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.14.4.html">1.14.4 (July 7, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.14.3.html">1.14.3 (June 30, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.14.2.html">1.14.2 (June 8, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.14.1.html">1.14.1 (April 8, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.14.0.html">1.14.0 (April 8, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.13.6.html">1.13.6 (September 29, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.13.5.html">1.13.5 (September 29, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.13.4.html">1.13.4 (July 7, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.13.3.html">1.13.3 (June 30, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.13.2.html">1.13.2 (June 8, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.13.1.html">1.13.1 (March 3, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.13.0.html">1.13.0 (January 20, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.12.7.html">1.12.7 (September 29, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.12.6.html">1.12.6 (July 7, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.12.5.html">1.12.5 (June 30, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.12.4.html">1.12.4 (June 8, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.12.3.html">1.12.3 (March 3, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.12.2.html">1.12.2 (December 10, 2019)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.12.1.html">1.12.1 (November 8, 2019)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.12.0.html">1.12.0 (October 31, 2019)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.11.2.html">1.11.2 (October 8, 2019)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.11.1.html">1.11.1 (August 13, 2019)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.11.0.html">1.11.0 (July 11, 2019)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.10.0.html">1.10.0 (Apr 5, 2019)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.9.1.html">1.9.1 (Apr 2, 2019)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.9.0.html">1.9.0 (Dec 20, 2018)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.8.0.html">1.8.0 (Oct 4, 2018)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.7.0.html">1.7.0 (Jun 21, 2018)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.6.0.html">1.6.0 (March 20, 2018)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.5.0.html">1.5.0 (December 4, 2017)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.4.0.html">1.4.0 (August 24, 2017)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.3.0.html">1.3.0 (May 17, 2017)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.2.0.html">1.2.0 (March 7, 2017)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.1.0.html">1.1.0 (November 30, 2016)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.0.0.html">1.0.0 (September 12, 2016)</a></li>
<li class="toctree-l2"><a class="reference internal" href="version_history.html#deprecation-policy">Deprecation Policy</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">envoy</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="version_history.html">Version history</a> &raquo;</li>
        
      <li>1.17.0 (pending)</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/version_history/current.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="pending">
<h1>1.17.0 (pending)<a class="headerlink" href="#pending" title="Permalink to this headline">¶</a></h1>
<div class="section" id="incompatible-behavior-changes">
<h2>Incompatible Behavior Changes<a class="headerlink" href="#incompatible-behavior-changes" title="Permalink to this headline">¶</a></h2>
<p><em>Changes that are expected to cause an incompatibility if applicable; deployment changes are likely required</em></p>
</div>
<div class="section" id="minor-behavior-changes">
<h2>Minor Behavior Changes<a class="headerlink" href="#minor-behavior-changes" title="Permalink to this headline">¶</a></h2>
<p><em>Changes that may cause incompatibilities for some users, but should not for most</em></p>
<ul class="simple">
<li><p>build: the Alpine based debug images are no longer built in CI, use Ubuntu based images instead.</p></li>
<li><p>cluster manager: the cluster which can’t extract secret entity by SDS to be warming and never activate. This feature is disabled by default and is controlled by runtime guard <cite>envoy.reloadable_features.cluster_keep_warming_no_secret_entity</cite>.</p></li>
<li><p>expr filter: added <cite>connection.termination_details</cite> property support.</p></li>
<li><p>ext_authz filter: disable <cite>envoy.reloadable_features.ext_authz_measure_timeout_on_check_created</cite> by default.</p></li>
<li><p>ext_authz filter: the deprecated field <a class="reference internal" href="../api-v2/config/filter/http/ext_authz/v2/ext_authz.proto.html#envoy-api-field-config-filter-http-ext-authz-v2-extauthz-use-alpha"><span class="std std-ref">use_alpha</span></a> is no longer supported and cannot be set anymore.</p></li>
<li><p>grpc_web filter: if a <cite>grpc-accept-encoding</cite> header is present it’s passed as-is to the upstream and if it isn’t <cite>grpc-accept-encoding:identity</cite> is sent instead. The header was always overwriten with <cite>grpc-accept-encoding:identity,deflate,gzip</cite> before.</p></li>
<li><p>tls: removed RSA key transport and SHA-1 cipher suites from the client-side defaults.</p></li>
<li><p>watchdog: the watchdog action <a class="reference internal" href="../api-v3/watchdog/v3alpha/abort_action.proto.html#envoy-v3-api-msg-watchdog-v3alpha-abortactionconfig"><span class="std std-ref">abort_action</span></a> is now the default action to terminate the process if watchdog kill / multikill is enabled.</p></li>
<li><p>xds: to support TTLs, heartbeating has been added to xDS. As a result, responses that contain empty resources without updating the version will no longer be propagated to the
subscribers. To undo this for VHDS (which is the only subscriber that wants empty resources), the <cite>envoy.reloadable_features.vhds_heartbeats</cite> can be set to “false”.</p></li>
</ul>
</div>
<div class="section" id="bug-fixes">
<h2>Bug Fixes<a class="headerlink" href="#bug-fixes" title="Permalink to this headline">¶</a></h2>
<p><em>Changes expected to improve the state of the world and are unlikely to have negative effects</em></p>
<ul class="simple">
<li><p>dns: fix a bug where custom resolvers provided in configuration were not preserved after network issues.</p></li>
<li><p>http: fixed URL parsing for HTTP/1.1 fully qualified URLs and connect requests containing IPv6 addresses.</p></li>
<li><p>http: sending CONNECT_ERROR for HTTP/2 where appropriate during CONNECT requests.</p></li>
<li><p>proxy_proto: fixed a bug where the wrong downstream address got sent to upstream connections.</p></li>
<li><p>tls: fix read resumption after triggering buffer high-watermark and all remaining request/response bytes are stored in the SSL connection’s internal buffers.</p></li>
<li><p>watchdog: touch the watchdog before most event loop operations to avoid misses when handling bursts of callbacks.</p></li>
</ul>
</div>
<div class="section" id="removed-config-or-runtime">
<h2>Removed Config or Runtime<a class="headerlink" href="#removed-config-or-runtime" title="Permalink to this headline">¶</a></h2>
<p><em>Normally occurs at the end of the</em> <a class="reference internal" href="version_history.html#deprecated"><span class="std std-ref">deprecation period</span></a></p>
<ul class="simple">
<li><p>ext_authz: removed auto ignore case in HTTP-based <cite>ext_authz</cite> header matching and the runtime guard <cite>envoy.reloadable_features.ext_authz_http_service_enable_case_sensitive_string_matcher</cite>. To ignore case, set the <a class="reference internal" href="../api-v2/type/matcher/string.proto.html#envoy-api-field-type-matcher-stringmatcher-ignore-case"><span class="std std-ref">ignore_case</span></a> field to true.</p></li>
<li><p>http: flip default HTTP/1 and HTTP/2 server codec implementations to new codecs that remove the use of exceptions for control flow. To revert to old codec behavior, set the runtime feature <cite>envoy.reloadable_features.new_codec_behavior</cite> to false.</p></li>
<li><p>http: removed <cite>envoy.reloadable_features.http1_flood_protection</cite> and legacy code path for turning flood protection off.</p></li>
</ul>
</div>
<div class="section" id="new-features">
<h2>New Features<a class="headerlink" href="#new-features" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>config: added new runtime feature <cite>envoy.features.enable_all_deprecated_features</cite> that allows the use of all deprecated features.</p></li>
<li><p>grpc: implemented header value syntax support when defining <a class="reference internal" href="../api-v3/config/core/v3/grpc_service.proto.html#envoy-v3-api-field-config-core-v3-grpcservice-initial-metadata"><span class="std std-ref">initial metadata</span></a> for gRPC-based <cite>ext_authz</cite> <a class="reference internal" href="../api-v3/extensions/filters/http/ext_authz/v3/ext_authz.proto.html#envoy-v3-api-field-extensions-filters-http-ext-authz-v3-extauthz-grpc-service"><span class="std std-ref">HTTP</span></a> and <a class="reference internal" href="../api-v3/extensions/filters/network/ext_authz/v3/ext_authz.proto.html#envoy-v3-api-field-extensions-filters-network-ext-authz-v3-extauthz-grpc-service"><span class="std std-ref">network</span></a> filters, and <a class="reference internal" href="../api-v3/config/ratelimit/v3/rls.proto.html#envoy-v3-api-field-config-ratelimit-v3-ratelimitserviceconfig-grpc-service"><span class="std std-ref">ratelimit</span></a> filters.</p></li>
<li><p>hds: added support for delta updates in the <a class="reference internal" href="../api-v3/service/health/v3/hds.proto.html#envoy-v3-api-msg-service-health-v3-healthcheckspecifier"><span class="std std-ref">HealthCheckSpecifier</span></a>, making only the Endpoints and Health Checkers that changed be reconstructed on receiving a new message, rather than the entire HDS.</p></li>
<li><p>health_check: added option to use <a class="reference internal" href="../api-v3/config/core/v3/health_check.proto.html#envoy-v3-api-field-config-core-v3-healthcheck-no-traffic-healthy-interval"><span class="std std-ref">no_traffic_healthy_interval</span></a> which allows a different no traffic interval when the host is healthy.</p></li>
<li><p>http: added frame flood and abuse checks to the upstream HTTP/2 codec. This check is off by default and can be enabled by setting the <cite>envoy.reloadable_features.upstream_http2_flood_checks</cite> runtime key to true.</p></li>
<li><p>jwt_authn: added support for <a class="reference internal" href="../api-v3/extensions/filters/http/jwt_authn/v3/config.proto.html#envoy-v3-api-msg-extensions-filters-http-jwt-authn-v3-perrouteconfig"><span class="std std-ref">per-route config</span></a>.</p></li>
<li><p>listener: added an optional <a class="reference internal" href="../api-v3/config/listener/v3/listener.proto.html#envoy-v3-api-field-config-listener-v3-listener-default-filter-chain"><span class="std std-ref">default filter chain</span></a>. If this field is supplied, and none of the <a class="reference internal" href="../api-v3/config/listener/v3/listener.proto.html#envoy-v3-api-field-config-listener-v3-listener-filter-chains"><span class="std std-ref">filter_chains</span></a> matches, this default filter chain is used to serve the connection.</p></li>
<li><p>lua: added <cite>downstreamDirectRemoteAddress()</cite> and <cite>downstreamLocalAddress()</cite> APIs to <a class="reference internal" href="../configuration/http/http_filters/lua_filter.html#config-http-filters-lua-stream-info-wrapper"><span class="std std-ref">streamInfo()</span></a>.</p></li>
<li><p>mongo_proxy: the list of commands to produce metrics for is now <a class="reference internal" href="../api-v3/extensions/filters/network/mongo_proxy/v3/mongo_proxy.proto.html#envoy-v3-api-field-extensions-filters-network-mongo-proxy-v3-mongoproxy-commands"><span class="std std-ref">configurable</span></a>.</p></li>
<li><p>network: added a <a class="reference internal" href="../api-v3/config/listener/v3/listener_components.proto.html#envoy-v3-api-field-config-listener-v3-filterchain-transport-socket-connect-timeout"><span class="std std-ref">timeout</span></a> for incoming connections completing transport-level negotiation, including TLS and ALTS hanshakes.</p></li>
<li><p>overload: add <a class="reference internal" href="../configuration/operations/overload_manager/overload_manager.html#config-overload-manager-overload-actions"><span class="std std-ref">envoy.overload_actions.reduce_timeouts</span></a> overload action to enable scaling timeouts down with load.</p></li>
<li><p>ratelimit: added support for use of various <a class="reference internal" href="../api-v3/config/route/v3/route_components.proto.html#envoy-v3-api-field-config-route-v3-ratelimit-action-metadata"><span class="std std-ref">metadata</span></a> as a ratelimit action.</p></li>
<li><p>ratelimit: added <a class="reference internal" href="../api-v3/extensions/filters/http/ratelimit/v3/rate_limit.proto.html#envoy-v3-api-msg-extensions-filters-http-ratelimit-v3-ratelimit"><span class="std std-ref">disable_x_envoy_ratelimited_header</span></a> option to disable <cite>X-Envoy-RateLimited</cite> header.</p></li>
<li><p>tcp: added a new <a class="reference internal" href="../configuration/operations/overload_manager/overload_manager.html#config-overload-manager-overload-actions"><span class="std std-ref">envoy.overload_actions.reject_incoming_connections</span></a> action to reject incoming TCP connections.</p></li>
<li><p>tls: added support for RSA certificates with 4096-bit keys in FIPS mode.</p></li>
<li><p>tracing: added SkyWalking tracer.</p></li>
<li><p>xds: added support for resource TTLs. A TTL is specified on the <a class="reference internal" href="../api-v2/api/v2/discovery.proto.html#envoy-api-msg-resource"><span class="std std-ref">Resource</span></a>. For SotW, a <a class="reference internal" href="../api-v2/api/v2/discovery.proto.html#envoy-api-msg-resource"><span class="std std-ref">Resource</span></a> can be embedded
in the list of resources to specify the TTL.</p></li>
</ul>
</div>
<div class="section" id="deprecated">
<h2>Deprecated<a class="headerlink" href="#deprecated" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>gzip: <a class="reference internal" href="../configuration/http/http_filters/gzip_filter.html#config-http-filters-gzip"><span class="std std-ref">HTTP Gzip filter</span></a> is rejected now unless explicitly allowed with <a class="reference internal" href="../configuration/operations/runtime.html#config-runtime-deprecation"><span class="std std-ref">runtime override</span></a> <cite>envoy.deprecated_features.allow_deprecated_gzip_http_filter</cite> set to <cite>true</cite>.</p></li>
<li><p>ratelimit: the <a class="reference internal" href="../api-v3/config/route/v3/route_components.proto.html#envoy-v3-api-field-config-route-v3-ratelimit-action-dynamic-metadata"><span class="std std-ref">dynamic metadata</span></a> action is deprecated in favor of the more generic <a class="reference internal" href="../api-v3/config/route/v3/route_components.proto.html#envoy-v3-api-field-config-route-v3-ratelimit-action-metadata"><span class="std std-ref">metadata</span></a> action.</p></li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="v1.16.0.html" class="btn btn-neutral float-right" title="1.16.0 (October 8, 2020)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="version_history.html" class="btn btn-neutral float-left" title="Version history" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2016-2020, Envoy Project Authors

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>
if(!Scorer)var Scorer={objNameMatch:11,objPartialMatch:6,objPrio:{0:15,1:5,2:-5},objPrioDefault:0,title:15,term:5};if(!splitQuery)function splitQuery(e){return e.split(/\s+/)}var Search={_index:null,_queued_query:null,_pulse_status:-1,init:function(){var e=$.getQueryParameters();if(e.q){var t=e.q[0];$('input[name="q"]')[0].value=t,this.performSearch(t)}},loadIndex:function(e){$.ajax({type:"GET",url:e,data:null,dataType:"script",cache:!0,complete:function(t,r){"success"!=r&&(document.getElementById("searchindexloader").src=e)}})},setIndex:function(e){var t;this._index=e,null!==(t=this._queued_query)&&(this._queued_query=null,Search.query(t))},hasIndex:function(){return null!==this._index},deferQuery:function(e){this._queued_query=e},stopPulse:function(){this._pulse_status=0},startPulse:function(){this._pulse_status>=0||function e(){var t;Search._pulse_status=(Search._pulse_status+1)%4;var r="";for(t=0;t<Search._pulse_status;t++)r+=".";Search.dots.text(r),Search._pulse_status>-1&&window.setTimeout(e,500)}()},performSearch:function(e){this.out=$("#search-results"),this.title=$("<h2>"+_("Searching")+"</h2>").appendTo(this.out),this.dots=$("<span></span>").appendTo(this.title),this.status=$('<p style="display: none"></p>').appendTo(this.out),this.output=$('<ul class="search"/>').appendTo(this.out),$("#search-progress").text(_("Preparing search...")),this.startPulse(),this.hasIndex()?this.query(e):this.deferQuery(e)},query:function(e){var t,r=DOCUMENTATION_OPTIONS.SEARCH_LANGUAGE_STOP_WORDS,s=new Stemmer,a=[],n=[],i=[],o=splitQuery(e),u=[];for(t=0;t<o.length;t++)if(""!==o[t]&&u.push(o[t].toLowerCase()),-1==$u.indexOf(r,o[t].toLowerCase())&&!o[t].match(/^\d+$/)&&""!==o[t]){var h,c=s.stemWord(o[t].toLowerCase());c.length<3&&o[t].length>=3&&(c=o[t]),"-"==c[0]?(h=n,c=c.substr(1)):(h=a,i.push(o[t].toLowerCase())),$u.contains(h,c)||h.push(c)}var l="?highlight="+$.urlencode(i.join(" ")),f=this._index.terms,d=this._index.titleterms,p=[];for($("#search-progress").empty(),t=0;t<u.length;t++){var S=[].concat(u.slice(0,t),u.slice(t+1,u.length));p=p.concat(this.performObjectSearch(u[t],S))}if(p=p.concat(this.performTermsSearch(a,n,f,d)),Scorer.score)for(t=0;t<p.length;t++)p[t][4]=Scorer.score(p[t]);p.sort((function(e,t){var r=e[4],s=t[4];return r>s?1:r<s||(r=e[1].toLowerCase())>(s=t[1].toLowerCase())?-1:r<s?1:0}));var m=p.length;!function e(){if(p.length){var t=p.pop(),r=$('<li style="display:none"></li>');if(""===DOCUMENTATION_OPTIONS.FILE_SUFFIX){var s=t[0]+"/";s.match(/\/index\/$/)?s=s.substring(0,s.length-6):"index/"==s&&(s=""),r.append($("<a/>").attr("href",DOCUMENTATION_OPTIONS.URL_ROOT+s+l+t[2]).html(t[1]))}else r.append($("<a/>").attr("href",t[0]+DOCUMENTATION_OPTIONS.FILE_SUFFIX+l+t[2]).html(t[1]));if(t[3])r.append($("<span> ("+t[3]+")</span>")),Search.output.append(r),r.slideDown(5,(function(){e()}));else if(DOCUMENTATION_OPTIONS.HAS_SOURCE){var n=DOCUMENTATION_OPTIONS.SOURCELINK_SUFFIX;void 0===n&&(n=".txt"),$.ajax({url:DOCUMENTATION_OPTIONS.URL_ROOT+"_sources/"+t[5]+(t[5].slice(-n.length)===n?"":n),dataType:"text",complete:function(t,s){var n=t.responseText;""!==n&&void 0!==n&&r.append(Search.makeSearchSummary(n,a,i)),Search.output.append(r),r.slideDown(5,(function(){e()}))}})}else Search.output.append(r),r.slideDown(5,(function(){e()}))}else Search.stopPulse(),Search.title.text(_("Search Results")),m?Search.status.text(_("Search finished, found %s page(s) matching the search query.").replace("%s",m)):Search.status.text(_("Your search did not match any documents. Please make sure that all words are spelled correctly and that you've selected enough categories.")),Search.status.fadeIn(500)}()},performObjectSearch:function(e,t){var r,s=this._index.filenames,a=this._index.docnames,n=this._index.objects,i=this._index.objnames,o=this._index.titles,u=[];for(var h in n)for(var c in n[h]){var l=(h?h+".":"")+c;if(l.toLowerCase().indexOf(e)>-1){var f=0,d=l.split(".");l==e||d[d.length-1]==e?f+=Scorer.objNameMatch:d[d.length-1].indexOf(e)>-1&&(f+=Scorer.objPartialMatch);var p=n[h][c],S=i[p[1]][2],m=o[p[0]];if(t.length>0){var O=(h+" "+c+" "+S+" "+m).toLowerCase(),v=!0;for(r=0;r<t.length;r++)if(-1==O.indexOf(t[r])){v=!1;break}if(!v)continue}var x=S+_(", in ")+m,g=p[3];""===g?g=l:"-"==g&&(g=i[p[1]][1]+"-"+l),Scorer.objPrio.hasOwnProperty(p[2])?f+=Scorer.objPrio[p[2]]:f+=Scorer.objPrioDefault,u.push([a[p[0]],l,"#"+g,x,f,s[p[0]]])}}return u},performTermsSearch:function(e,t,r,s){var a,n,i,o=this._index.docnames,u=this._index.filenames,h=this._index.titles,c={},l={},f=[];for(a=0;a<e.length;a++){var d=e[a],p=[],S=[{files:r[d],score:Scorer.term},{files:s[d],score:Scorer.title}];if($u.every(S,(function(e){return void 0===e.files})))break;for($u.each(S,(function(e){var t=e.files;if(void 0!==t)for(void 0===t.length&&(t=[t]),p=p.concat(t),n=0;n<t.length;n++)(i=t[n])in l||(l[i]={}),l[i][d]=e.score})),n=0;n<p.length;n++)(i=p[n])in c?c[i].push(d):c[i]=[d]}for(i in c){var _=!0;if(c[i].length==e.length){for(a=0;a<t.length;a++)if(r[t[a]]==i||s[t[a]]==i||$u.contains(r[t[a]]||[],i)||$u.contains(s[t[a]]||[],i)){_=!1;break}if(_){var m=$u.max($u.map(c[i],(function(e){return l[i][e]})));f.push([o[i],h[i],"",null,m,u[i]])}}}return f},makeSearchSummary:function(e,t,r){var s=e.toLowerCase(),a=0;$.each(t,(function(){var e=s.indexOf(this.toLowerCase());e>-1&&(a=e)}));var n=((a=Math.max(a-120,0))>0?"...":"")+$.trim(e.substr(a,240))+(a+240-e.length?"...":""),i=$('<div class="context"></div>').text(n);return $.each(r,(function(){i=i.highlightText(this,"highlighted")})),i}};$(document).ready((function(){Search.init()}));